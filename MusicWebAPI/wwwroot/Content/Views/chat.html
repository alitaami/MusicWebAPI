<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SignalR Group Chat</title>
    <link rel="stylesheet" href="../css/chat.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://cdn.jsdelivr.net/npm/@microsoft/signalr@latest/dist/browser/signalr.min.js"></script>
</head>
<body>
    <div class="auth-container auth-overlay" id="authWrapper">
        <div class="auth-container">
            <div id="authForms">
                <div id="loginForm">
                    <h2>Login</h2>
                    <input type="text" id="loginUsername" placeholder="Username" />
                    <input type="password" id="loginPassword" placeholder="Password" />
                    <button id="loginBtn">Login</button>

                    <div id="g_id_onload"
                         data-callback="onGoogleSignIn"
                         data-auto_prompt="false">
                    </div>
                    <div class="google-signin-wrapper">
                        <div class="g_id_signin"
                             data-type="standard"
                             data-shape="rectangular"
                             data-theme="outline"
                             data-text="sign_in_with"
                             data-size="large"
                             data-logo_alignment="left">
                        </div>
                    </div>

                    <p>Not registered yet? <a href="#" id="showRegisterForm">Register here</a></p>
                    <p>Forget Password <a href="#" id="showForgetPassForm">Recover your password</a></p>

                </div>

                <div id="forgetPassForm" style="display: none;">
                    <h2>Forget Password</h2>
                    <input type="email" id="forgetPassEmail" placeholder="Email" />
                    <button id="forgetPassBtn">Send Email</button>

                    <p><a href="#" id="showLoginForm">Login here</a></p>

                </div>

                <div id="recoverPassForm" style="display: none;">
                    <h2>Recover Password</h2>
                    <input type="email" id="recoverPassEmail" placeholder="Email" />
                    <input type="text" id="recoverPassOtp" placeholder="OTP"/>
                    <input type="password" id="recoverPassNewPassword" placeholder="New Pass" />
                    <button id="recoverPassBtn">Reset Password</button>

                    <p><a href="#" id="showLoginForm">Login here</a></p>

                </div>

                <div id="registerForm" style="display: none;">
                    <h2>Register</h2>
                    <input type="text" id="registerUsername" placeholder="Username" />
                    <input type="email" id="registerEmail" placeholder="Email" />
                    <input type="password" id="registerPassword" placeholder="Password" />

                    <div class="checkbox-container">
                        <label class="checkbox-label">
                            <input type="checkbox" id="isArtistCheckbox" />
                            I am an artist
                        </label>
                    </div>
                    <button id="registerBtn">Register</button>

                    <div id="g_id_onload"
                         data-callback="onGoogleSignIn"
                         data-auto_prompt="false">
                    </div>
                    <div class="google-signin-wrapper">
                        <div class="g_id_signin"
                             data-type="standard"
                             data-shape="rectangular"
                             data-theme="outline"
                             data-text="sign_in_with"
                             data-size="large"
                             data-logo_alignment="left">
                        </div>
                    </div>

                    <p>Already have an account? <a href="#" id="showLoginForm">Login here</a></p>

                </div>
            </div>
        </div>
    </div>

    <div id="chatContainer" style="display: none;">
        <div class="main-container">
            <!-- Chat Section -->
            <div class="chat-section">
                <div class="header">
                    <select id="groupName">
                        <option value="">Select Group</option>
                    </select>
                    <button id="joinGroup">Join</button>
                    <button id="leaveGroup">Leave</button>
                    <button id="logoutBtn" class="logout-btn">
                        Logout
                    </button>
                </div>
                <div class="chat-box">
                    <ul id="messagesList"></ul>
                </div>

                <div id="replyContext" style="margin-bottom: 5px; color: #555; font-size: 14px; display: none;">
                    Replying to <span id="replyToText"></span>
                    <button id="cancelReplyBtn" style="margin-left: 10px; font-size: 12px;">✖ Cancel</button>
                </div>

                <div class="message-input">
                    <input type="text" id="messageInput" placeholder="Type your message..." />
                    <button id="sendButton">Send</button>
                </div>
            </div>

            <!-- Members Section -->
            <div class="sidebar">
                <h3>Group Members</h3>
                <div id="membersList">
                    <!-- Dynamic user list -->
                </div>
            </div>
        </div>
    </div>
    <script src="../js/chat.js"></script>
    <script src="../js/login-register.js"></script>
</body>
</html>
